{# empty Twig template #}
{% extends 'MinSalSidPlaBundle:Default:index.html.twig' %}
{% block body %}
 <script type="text/javascript">
      $(document).ready(function(){
     //  $("#theGrid").closest(".ui-jqgrid-bdiv").css({ 'overflow-y' : 'scroll' });
      //jQuery("#theGrid").jqGrid('hideCol',"id").trigger("reloadGrid");   
          //cuando le da click en el boton Nuevo
    $("#nuevoBloqueButton").click(function(){
        jQuery("#theGrid").jqGrid('editGridRow',"new",{closeAfterAdd:true,addCaption: "Nuevo Bloque de Censo",height:400,
        top : 250 ,left: 250,width: 800,processData: "Cargando...",
        bottominfo:"Campos marcados con (*) son obligatorios",reloadAfterSubmit:true,onclickSubmit: function(rp_ge, postdata) {
        alert("bloque agregado con exito!");
          }});
     });
    
         //cuando le da click en el boton editar
    $("#editarBloqueButton").click(function(){
          var gr = jQuery("#theGrid").jqGrid('getGridParam','selrow');
          if( gr != null )
             jQuery("#theGrid").jqGrid('editGridRow',gr,{closeAfterEdit:true,editCaption: "Editando Bloque Censo",height:130,reloadAfterSubmit:true,
                 top : 250 ,left: 250,width: 800,processData: "Cargando...", onclickSubmit: function(rp_ge, postdata) {
        alert("bloque editado con exito!");
          }, bottominfo:"Campos marcados con (*) son obligatorios"});
             else alert("Por favor seleccione una fila para editar!"); 
          });
    
        //cuando le da click en el boton borrar
    $("#eliminarBloqueButton").click(function(){
         var grs = jQuery("#theGrid").jqGrid('getGridParam','selrow');
         if( grs != null ) jQuery("#theGrid").jqGrid('delGridRow',grs,{msg: "Desea eliminar este Bloque Censo?",caption:"Eliminando Bloque Censo",height:130,reloadAfterSubmit:true,
             top : 300 ,left: 600,width: 300,processData: "Cargando...",onclickSubmit: function(rp_ge, postdata) {
        alert("Bloque eliminado con exito!");
          }}); 
         else alert("Por favor seleccione una fila para borrar!"); }); 
     
     });
    </script>
<br></br>
    <br></br>         
    <br></br>    
    <form >
       
        <table align="center">
            <tr><td align="center">
                    <h1>Mantenimiento de Bloque Censo</h1>
                </td>
            </tr>
            <tr>
                <td align="center">
                                       
                </td>
            </tr>
            <tr>
                <td align="center">
                <br></br>                
                {% include 'MinSalSidPlaCensoBundle:BloqueCenso:showAllBloqueCenso.html.twig'%}
                <br></br>
                <input type="BUTTON" id="nuevoBloqueButton" value="Agregar bloque censo" />
                <input type="BUTTON" id="editarBloqueButton" value="Editar bloque censo" />
                <input type="BUTTON" id="eliminarBloqueButton" value="Eliminar bloque censo" />
                </td>
            </tr>        
        </table>        
    </form>
    <br></br>
    <br></br>
    
    
{% endblock %}

