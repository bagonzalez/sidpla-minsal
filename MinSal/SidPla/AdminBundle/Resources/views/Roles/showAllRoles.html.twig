{# Muestra todos los roles #}

{% block body %}
    <script type="text/javascript">
      $(document).ready(function(){

        var myGrid = $('#theGrid');        
        myGrid.jqGrid({ 
          url: 'consultarRoles',
          datatype:'json',
          altRows:true,
          colNames:['Id','Nombre', 'Descripcion'],
          colModel:[
            { name:'id', index: 'id', width:20,editable:false,editoptions:{size:15}  },
            { name:'nombre', index: 'nombre', width:150,editable:true,editoptions:{size:25}, editrules:{required:true},formoptions:{ rowpos:1, label: "Nombre", elmprefix:"(*)"} },
            { name:'funciones', index: 'funciones',width:300,editable:true,editoptions:{size:50},editrules:{required:true},formoptions:{ rowpos:2, label: "Funciones", elmprefix:"(*)"}  } ],            
          rowNum:10,
          //rowList:[10,20,30],
          multiselect: false,
          pager: jQuery('#pager'),
          viewrecords: true,          
            caption: 'Roles del sistema',
            height: "100%",
            editurl: 'manttRolEdicion'
        });
        myGrid.jqGrid('navGrid','#pager',
        {edit:true,add:true,del:true},
        {width:550,height:160,bottominfo:"Campos marcados con (*) son obligatorios", onclickSubmit: function(rp_ge, postdata) {
        alert("datos editados con exito!");},closeAfterEdit:true},//edit
        {width:550,height:160,bottominfo:"Campos marcados con (*) son obligatorios", onclickSubmit: function(rp_ge, postdata) {
        alert("datos guardados con exito!");},closeAfterAdd:true},//add
        {},//del
        {},//buscar
        {}//view
       
        );
        
       
      });
    </script>
        
        <table id="theGrid" class="scroll"></table> 
        <div id="pager" class="scroll" style="text-align:center;"></div> 
        

{% endblock %}